(function(){"use strict";var t={740:function(t,n,e){var i=e(6848),s=function(){var t=this,n=t._self._c;return n("div",{staticClass:"wrapper"},[n("div",{staticClass:"buttons-wrapper"},t._l(t.simonMachineSignals,(function(e,i){return n("button",{key:i,staticClass:"button",class:{active:t.activeSignal===e},attrs:{disabled:!t.isUserCanInput},on:{click:function(n){return t.handleSignalBtnClicked(e)}}})})),0),n("div",[n("button",{on:{click:t.handleStartBtnClicked}},[t._v("Start")]),n("p",[t._v("Round: "+t._s(t.round))]),t.isGameOver?n("p",[t._v("Lose...")]):t._e(),n("div",[n("p",[t._v("Complexity")]),n("ul",{staticClass:"levels-list"},[n("li",[n("input",{attrs:{type:"radio",name:"difficulty",id:"level-easy",disabled:t.canSwitchDifficulty},domProps:{checked:t.difficulty===t.simonMachineModes.SLOW},on:{click:function(n){return t.handleDifficultyCheck(t.simonMachineModes.SLOW)}}}),n("label",{attrs:{for:"level-easy"}},[t._v("Easy")])]),n("li",[n("input",{attrs:{type:"radio",name:"difficulty",id:"level-medium",disabled:t.canSwitchDifficulty},domProps:{checked:t.difficulty===t.simonMachineModes.FAST},on:{click:function(n){return t.handleDifficultyCheck(t.simonMachineModes.FAST)}}}),n("label",{attrs:{for:"level-medium"}},[t._v("Medium")])]),n("li",[n("input",{attrs:{type:"radio",name:"difficulty",id:"level-hard",disabled:t.canSwitchDifficulty},domProps:{checked:t.difficulty===t.simonMachineModes.VERY_FAST},on:{click:function(n){return t.handleDifficultyCheck(t.simonMachineModes.VERY_FAST)}}}),n("label",{attrs:{for:"level-hard"}},[t._v("Hard")])])])])])])},a=[],u=e(1114);e(4114);const r={READY_TO_START:0,SEQUNCE_EXECUTION:1,INPUT_WAITING:2,FINISHED:3},c=[0,1,2,3],l={SLOW:0,FAST:1,VERY_FAST:2},o={[l.SLOW]:1500,[l.FAST]:1e3,[l.VERY_FAST]:400};class h{constructor({onSingleSignalOutput:t=(()=>{}),onSequenceExecutionFinish:n=(()=>{}),onWrongInputSignal:e=(()=>{}),onIncreaseSignals:i=(()=>{})}){(0,u.A)(this,"_onSingleSignalOutput",null),(0,u.A)(this,"_onSequenceExecutionFinish",null),(0,u.A)(this,"_onWrongInputSignal",null),(0,u.A)(this,"_onIncreaseSignals",null),(0,u.A)(this,"_state",r.READY_TO_START),(0,u.A)(this,"_currentSignalsSequence",[]),(0,u.A)(this,"_inputSignalSequence",[]),(0,u.A)(this,"_signalOutputTimeInterval",1500),(0,u.A)(this,"_HTMLIntervalId",0),(0,u.A)(this,"_activeSignal",-1),(0,u.A)(this,"_mode",l.SLOW),this._onSingleSignalOutput=t,this._onSequenceExecutionFinish=n,this._onWrongInputSignal=e,this._onIncreaseSignals=i}_getRandomSignal(){return S(3)}_calculateSignalRetentionTime(){return this._signalOutputTimeInterval-.2*this._signalOutputTimeInterval}_outputSignal(t){const n=this._currentSignalsSequence[t];this._activeSignal=n,setTimeout((()=>this._activeSignal=-1),this._calculateSignalRetentionTime()),this._onSingleSignalOutput(n)}_finishExecutionIfSignalIsLast(t){t===this._currentSignalsSequence.length-1&&(clearInterval(this._HTMLIntervalId),setTimeout((()=>{this._onSequenceExecutionFinish(),this._state=r.INPUT_WAITING}),this._signalOutputTimeInterval))}_executeSequence(){this._currentSignalsSequence.push(this._getRandomSignal()),this._onIncreaseSignals();let t=0;this._HTMLIntervalId=setInterval((()=>{this._outputSignal(t),this._finishExecutionIfSignalIsLast(t),++t}),this._signalOutputTimeInterval)}_verifyInputSequence(){return this._inputSignalSequence.every(((t,n)=>t===this._currentSignalsSequence[n]))}_checkAllSequenceInputed(){return this._inputSignalSequence.length===this._currentSignalsSequence.length}_reset(){this._currentSignalsSequence=[],this._inputSignalSequence=[],clearInterval(this._HTMLIntervalId),this._state=r.READY_TO_START}get currentSignalsSequence(){return this._currentSignalsSequence}get activeSignal(){return this._activeSignal}get mode(){return this._mode}get isInputWaiting(){return this._state===r.INPUT_WAITING}get isActive(){return this._state===r.READY_TO_START||this._state===r.FINISH}setMode(t){this._state===r.READY_TO_START&&(this._mode=t)}input(t){this._state===r.INPUT_WAITING&&(this._inputSignalSequence.push(t),this._verifyInputSequence()?this._checkAllSequenceInputed()&&(this._inputSignalSequence=[],this._state=r.SEQUNCE_EXECUTION,this._executeSequence()):(this._state=r.FINISHED,this._reset(),this._onWrongInputSignal()))}start(){this._state===r.READY_TO_START&&(this._state=r.SEQUNCE_EXECUTION,this._signalOutputTimeInterval=o[this._mode],this._executeSequence())}}function S(t){return Math.round(Math.random()*t)}const _=[e(6272),e(1207),e(6274),e(2433)];var d={name:"App",data(){return{simonMachine:new h({}),simonMachineSignals:c,simonMachineModes:l,isGameOver:!1}},computed:{isUserCanInput(){return this.simonMachine.isInputWaiting},currentSignals(){return this.simonMachine.currentSignalsSequence},activeSignal(){return this.simonMachine.activeSignal},round(){return this.currentSignals.length},difficulty(){return this.simonMachine.mode},canSwitchDifficulty(){return!this.simonMachine.isActive}},methods:{handleSignalBtnClicked(t){this.simonMachine.input(t),this.playSignalSound(t)},handleStartBtnClicked(){this.simonMachine.start()},handleDifficultyCheck(t){this.simonMachine.setMode(t)},playSignalSound(t){const n=new Audio(_[t]);n.volume=.4,n.play()}},watch:{activeSignal(t){this.playSignalSound(t)},round(t,n){this.isGameOver=t!==n&&0===t}}},f=d,g=e(1656),p=(0,g.A)(f,s,a,!1,null,null,null),m=p.exports;i.Ay.config.productionTip=!1,i.Ay.config.devtools=!0,new i.Ay({render:t=>t(m)}).$mount("#app")},6272:function(t,n,e){t.exports=e.p+"media/1.4439a9af.mp3"},1207:function(t,n,e){t.exports=e.p+"media/2.65e0df3b.mp3"},6274:function(t,n,e){t.exports=e.p+"media/3.f8db31a2.mp3"},2433:function(t,n,e){t.exports=e.p+"media/4.049c0e2c.mp3"}},n={};function e(i){var s=n[i];if(void 0!==s)return s.exports;var a=n[i]={exports:{}};return t[i].call(a.exports,a,a.exports,e),a.exports}e.m=t,function(){var t=[];e.O=function(n,i,s,a){if(!i){var u=1/0;for(o=0;o<t.length;o++){i=t[o][0],s=t[o][1],a=t[o][2];for(var r=!0,c=0;c<i.length;c++)(!1&a||u>=a)&&Object.keys(e.O).every((function(t){return e.O[t](i[c])}))?i.splice(c--,1):(r=!1,a<u&&(u=a));if(r){t.splice(o--,1);var l=s();void 0!==l&&(n=l)}}return n}a=a||0;for(var o=t.length;o>0&&t[o-1][2]>a;o--)t[o]=t[o-1];t[o]=[i,s,a]}}(),function(){e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,{a:n}),n}}(),function(){e.d=function(t,n){for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){e.p="/"}(),function(){var t={524:0};e.O.j=function(n){return 0===t[n]};var n=function(n,i){var s,a,u=i[0],r=i[1],c=i[2],l=0;if(u.some((function(n){return 0!==t[n]}))){for(s in r)e.o(r,s)&&(e.m[s]=r[s]);if(c)var o=c(e)}for(n&&n(i);l<u.length;l++)a=u[l],e.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return e.O(o)},i=self["webpackChunksimon_the_game"]=self["webpackChunksimon_the_game"]||[];i.forEach(n.bind(null,0)),i.push=n.bind(null,i.push.bind(i))}();var i=e.O(void 0,[504],(function(){return e(740)}));i=e.O(i)})();
//# sourceMappingURL=app.5ef5c956.js.map