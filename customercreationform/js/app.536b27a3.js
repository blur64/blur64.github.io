(function(){"use strict";var e={475:function(e,t,s){var r=s(6848),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("app-form")],1)},n=[],i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("form",{staticClass:"form",on:{submit:e.handleFormSubmit}},[s("h1",{staticClass:"form-title"},[e._v("Форма создания клиента")]),s("form-section",{attrs:{title:"Основная информация"}},[s("base-input",{staticClass:"cols-4",attrs:{type:"text",label:"Фамилия",name:"surname",errors:e.errorsMap.surname,isRequired:""},model:{value:e.main.surname,callback:function(t){e.$set(e.main,"surname",t)},expression:"main.surname"}}),s("base-input",{staticClass:"cols-4",attrs:{type:"text",label:"Имя",name:"name",errors:e.errorsMap.name,isRequired:""},model:{value:e.main.name,callback:function(t){e.$set(e.main,"name",t)},expression:"main.name"}}),s("base-input",{staticClass:"cols-4",attrs:{type:"text",label:"Отчество",name:"patronymic"},model:{value:e.main.patronymic,callback:function(t){e.$set(e.main,"patronymic",t)},expression:"main.patronymic"}}),s("base-input",{staticClass:"cols-3",attrs:{type:"date",label:"Дата рождения",name:"birth-date",errors:e.errorsMap.birthDate,isRequired:""},model:{value:e.main.birthDate,callback:function(t){e.$set(e.main,"birthDate",t)},expression:"main.birthDate"}}),s("base-select",{staticClass:"cols-1 sex-select",attrs:{label:"Пол",name:"sex",options:[{value:"0",text:"М"},{value:"1",text:"Ж"}]},model:{value:e.main.sex,callback:function(t){e.$set(e.main,"sex",t)},expression:"main.sex"}}),s("base-input",{staticClass:"cols-4",attrs:{type:"tel",label:"Номер телефона",name:"phone-number",errors:e.errorsMap.phoneNumber,maxLength:"11",placeholder:"7XXXXXXXXXX",isRequired:""},model:{value:e.main.phoneNumber,callback:function(t){e.$set(e.main,"phoneNumber",t)},expression:"main.phoneNumber"}}),s("base-select",{staticClass:"cols-4",attrs:{label:"Лечащий врач",name:"assigned-doctor",options:[{value:"0",text:"Иванов"},{value:"1",text:"Захаров"},{value:"2",text:"Чернышева"}]},model:{value:e.main.assignedDoctor,callback:function(t){e.$set(e.main,"assignedDoctor",t)},expression:"main.assignedDoctor"}}),s("base-select",{staticClass:"cols-4",attrs:{label:"Группа клиентов",name:"clents-group",options:[{value:"0",text:"VIP"},{value:"1",text:"Проблемные"},{value:"2",text:"ОМС"}],errors:e.errorsMap.clientsGroup,multiple:"",isRequired:""},model:{value:e.main.clientsGroup,callback:function(t){e.$set(e.main,"clientsGroup",t)},expression:"main.clientsGroup"}}),s("base-input",{staticClass:"cols-4 texting-checkbox",attrs:{type:"checkbox",label:"Не отправлять СМС",name:"is-not-send-texting",errors:e.errorsMap.isNotSendTexting},model:{value:e.main.isNotSendTexting,callback:function(t){e.$set(e.main,"isNotSendTexting",t)},expression:"main.isNotSendTexting"}})],1),s("form-section",{attrs:{title:"Адрес"}},[s("base-input",{staticClass:"cols-4",attrs:{type:"text",label:"Город",name:"city",errors:e.errorsMap.city,isRequired:""},model:{value:e.address.city,callback:function(t){e.$set(e.address,"city",t)},expression:"address.city"}}),s("base-input",{staticClass:"cols-4",attrs:{type:"text",label:"Страна",name:"country"},model:{value:e.address.country,callback:function(t){e.$set(e.address,"country",t)},expression:"address.country"}}),s("base-input",{staticClass:"cols-4",attrs:{label:"Область",name:"region",type:"text"},model:{value:e.address.region,callback:function(t){e.$set(e.address,"region",t)},expression:"address.region"}}),s("base-input",{staticClass:"cols-2",attrs:{label:"Индекс",name:"postcode",type:"text"},model:{value:e.address.postcode,callback:function(t){e.$set(e.address,"postcode",t)},expression:"address.postcode"}}),s("base-input",{staticClass:"cols-2",attrs:{label:"Дом",name:"house",type:"text"},model:{value:e.address.house,callback:function(t){e.$set(e.address,"house",t)},expression:"address.house"}}),s("base-input",{staticClass:"cols-4",attrs:{label:"Улица",name:"street",type:"text"},model:{value:e.address.street,callback:function(t){e.$set(e.address,"street",t)},expression:"address.street"}})],1),s("form-section",{attrs:{title:"Паспортные данные"}},[s("base-select",{staticClass:"cols-4",attrs:{label:"Тип документа",name:"document-type",options:[{value:"0",text:"Паспорт"},{value:"1",text:"Свидетельство о рождении"},{value:"2",text:"Вод. удостоверение"}],errors:e.errorsMap.type,isRequired:""},model:{value:e.docs.type,callback:function(t){e.$set(e.docs,"type",t)},expression:"docs.type"}}),s("base-input",{staticClass:"cols-4",attrs:{label:"Серия",name:"document-series",type:"text"},model:{value:e.docs.series,callback:function(t){e.$set(e.docs,"series",t)},expression:"docs.series"}}),s("base-input",{staticClass:"cols-4",attrs:{label:"Номер",name:"document-number",type:"text"},model:{value:e.docs.number,callback:function(t){e.$set(e.docs,"number",t)},expression:"docs.number"}}),s("base-input",{staticClass:"cols-9",attrs:{label:"Кем выдан",name:"document-issuer",type:"text"},model:{value:e.docs.issuer,callback:function(t){e.$set(e.docs,"issuer",t)},expression:"docs.issuer"}}),s("base-input",{staticClass:"cols-3",attrs:{label:"Дата выдачи",name:"document-issue-date",type:"date",errors:e.errorsMap.issueDate,isRequired:""},model:{value:e.docs.issueDate,callback:function(t){e.$set(e.docs,"issueDate",t)},expression:"docs.issueDate"}})],1),s("base-button",{staticClass:"save-button",attrs:{text:"Сохранить",type:"submit"}})],1)},o=[],l=(s(4114),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"input-wrapper"},[e.label?s("label",{staticClass:"input-label",attrs:{for:e.id}},[e._v(e._s(e.labelText))]):e._e(),s("input",e._b({staticClass:"input",class:{"input-with-error":e.hasError},attrs:{name:e.name,id:e.id},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}},"input",e.$attrs,!1)),e.hasError?s("div",{staticClass:"input-error"},[e._v(" "+e._s(e.joinedErrors)+" ")]):e._e()])}),u=[],c=s(351);function p(e){function t(e){return e.join(". ")}function s(e){return e.length}function r(e,t){return`${e} ${t?"*":""}`}function a(e){return`${e}-field`}const n=(0,c.KR)(t(e.errors)),i=(0,c.KR)(s(e.errors)),o=(0,c.KR)(r(e.label,e.isRequired)),l=(0,c.KR)(a(e.name));return(0,c.wB)(e,(()=>{n.value=t(e.errors),i.value=s(e.errors),o.value=r(e.label,e.isRequired),l.value=a(e.name)})),{joinedErrors:n,hasError:i,labelText:o,id:l}}var d={name:"BaseInput",inheritAttrs:!1,setup(e){const{joinedErrors:t,hasError:s,labelText:r,id:a}=p(e);return{joinedErrors:t,hasError:s,labelText:r,id:a}},props:{value:{},label:String,errors:{type:Array,validator(e){return e.every((e=>"string"===typeof e))},default(){return[]}},name:String,isRequired:Boolean}},m=d,b=s(1656),f=(0,b.A)(m,l,u,!1,null,"7ee4c683",null),v=f.exports,h=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"select-wrapper"},[e.label?s("label",{staticClass:"select-label",attrs:{for:e.id}},[e._v(e._s(e.labelText))]):e._e(),s("select",e._b({staticClass:"select",class:{"select-with-error":e.hasError},attrs:{name:e.name,id:e.id},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}},"select",e.$attrs,!1),e._l(e.options,(function(t,r){return s("option",{key:r,domProps:{value:t.value}},[e._v(" "+e._s(t.text)+" ")])})),0),e.hasError?s("div",{staticClass:"select-error"},[e._v(" "+e._s(e.joinedErrors)+" ")]):e._e()])},x=[],y={name:"BaseInput",inheritAttrs:!1,setup(e){const{joinedErrors:t,hasError:s,labelText:r,id:a}=p(e);return{joinedErrors:t,hasError:s,labelText:r,id:a}},props:{value:{},label:String,errors:{type:Array,validator(e){return e.every((e=>"string"===typeof e))},default(){return[]}},name:String,options:{type:Array,validator(e){return e.every((e=>"string"===typeof e.value&&"string"===typeof e.text))},required:!0},isRequired:Boolean}},g=y,$=(0,b.A)(g,h,x,!1,null,"6c972447",null),_=$.exports,C=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"button",attrs:{type:e.type}},[e._v(e._s(e.text))])},w=[],k={name:"BaseButton",props:{text:String,type:String}},E=k,M=(0,b.A)(E,C,w,!1,null,"796f1ecc",null),q=M.exports,A=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("fieldset",{staticClass:"fieldset"},[s("legend",{staticClass:"legend"},[s("h2",{staticClass:"form-section-title"},[e._v(e._s(e.title))])]),s("div",{staticClass:"form-controls-wrapper"},[e._t("default")],2)])},D=[],S={name:"FormSection",props:{title:String}},R=S,T=(0,b.A)(R,A,D,!1,null,"da51d444",null),j=T.exports,B=s(7760),N=s(9428);function O(e){return t=>!N._$.req(t)||t.length===e}function X(e){return t=>!N._$.req(t)||t.startsWith(e)}var F={name:"AppForm",components:{BaseInput:v,BaseSelect:_,FormSection:j,BaseButton:q},setup(){return{v$:(0,B.fG)()}},data(){return{main:{surname:"",name:"",patronymic:"",birthDate:"",sex:"",phoneNumber:"",assignedDoctor:"",clientsGroup:[],isNotSendTexting:!1},address:{city:"",country:"",region:"",postcode:"",house:"",street:""},docs:{type:"",series:"",number:"",issuer:"",issueDate:""},errorsMap:{}}},validations(){return{main:{surname:{required:N._$.withMessage("Это обязательное поле",N.mw)},name:{required:N._$.withMessage("Это обязательное поле",N.mw)},birthDate:{required:N._$.withMessage("Это обязательное поле",N.mw)},phoneNumber:{required:N._$.withMessage("Это обязательное поле",N.mw),equalsLength:N._$.withMessage("Длина поля должна быть равна 11",O(11)),startsWith:N._$.withMessage("Поле должно начинаться с 7",X("7"))},clientsGroup:{required:N._$.withMessage("Это обязательное поле",N.mw)}},address:{city:{required:N._$.withMessage("Это обязательное поле",N.mw)}},docs:{type:{required:N._$.withMessage("Это обязательное поле",N.mw)},issueDate:{required:N._$.withMessage("Это обязательное поле",N.mw)}}}},methods:{handleFormSubmit(e){this.v$.$validate().then((t=>{t?alert("Клиент успешно создан."):(e.preventDefault(),this.setErrorsMap())}))},setErrorsMap(){this.errorsMap=this.createErrorsMap()},createErrorsMap(){const e={};return this.v$.$errors.forEach((t=>{const s=t.$property;s in e?e[s].push(t.$message):e[s]=[t.$message]})),e}}},G=F,P=(0,b.A)(G,i,o,!1,null,"1648ae4a",null),I=P.exports,K={name:"App",components:{AppForm:I}},L=K,W=(0,b.A)(L,a,n,!1,null,null,null),V=W.exports;r.A.config.productionTip=!1,r.A.config.devtools=!0,new r.A({render:e=>e(V)}).$mount("#app")}},t={};function s(r){var a=t[r];if(void 0!==a)return a.exports;var n=t[r]={exports:{}};return e[r].call(n.exports,n,n.exports,s),n.exports}s.m=e,function(){var e=[];s.O=function(t,r,a,n){if(!r){var i=1/0;for(c=0;c<e.length;c++){r=e[c][0],a=e[c][1],n=e[c][2];for(var o=!0,l=0;l<r.length;l++)(!1&n||i>=n)&&Object.keys(s.O).every((function(e){return s.O[e](r[l])}))?r.splice(l--,1):(o=!1,n<i&&(i=n));if(o){e.splice(c--,1);var u=a();void 0!==u&&(t=u)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[r,a,n]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,n,i=r[0],o=r[1],l=r[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(a in o)s.o(o,a)&&(s.m[a]=o[a]);if(l)var c=l(s)}for(t&&t(r);u<i.length;u++)n=i[u],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(c)},r=self["webpackChunkcustomer_creation_form"]=self["webpackChunkcustomer_creation_form"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=s.O(void 0,[504],(function(){return s(475)}));r=s.O(r)})();
//# sourceMappingURL=app.536b27a3.js.map