(function(){"use strict";var e={2222:function(e,t,s){var r=s(6848),a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("app-form")],1)},n=[],i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("form",{staticClass:"form",on:{submit:e.handleFormSubmit}},[s("h1",{staticClass:"form-title"},[e._v("Форма создания клиента")]),s("form-section",{attrs:{title:"Основная информация"}},[s("base-input",{staticClass:"cols-4",attrs:{id:"surname",type:"text",label:"Фамилия",name:"surname",errors:e.errorsMap.surname},model:{value:e.main.surname,callback:function(t){e.$set(e.main,"surname",t)},expression:"main.surname"}}),s("base-input",{staticClass:"cols-4",attrs:{id:"name",type:"text",label:"Имя",name:"name",errors:e.errorsMap.name},model:{value:e.main.name,callback:function(t){e.$set(e.main,"name",t)},expression:"main.name"}}),s("base-input",{staticClass:"cols-4",attrs:{id:"patronymic",type:"text",label:"Отчество",name:"patronymic"},model:{value:e.main.patronymic,callback:function(t){e.$set(e.main,"patronymic",t)},expression:"main.patronymic"}}),s("base-input",{staticClass:"cols-3",attrs:{id:"birth-date",type:"date",label:"Дата рождения",name:"birth-date",errors:e.errorsMap.birthDate},model:{value:e.main.birthDate,callback:function(t){e.$set(e.main,"birthDate",t)},expression:"main.birthDate"}}),s("base-select",{staticClass:"cols-1 sex-select",attrs:{id:"sex",label:"Пол",name:"sex",options:[{value:"0",text:"М"},{value:"1",text:"Ж"}]},model:{value:e.main.sex,callback:function(t){e.$set(e.main,"sex",t)},expression:"main.sex"}}),s("base-input",{staticClass:"cols-4",attrs:{id:"phone-number",type:"tel",label:"Номер телефона",name:"phone-number",errors:e.errorsMap.phoneNumber},model:{value:e.main.phoneNumber,callback:function(t){e.$set(e.main,"phoneNumber",t)},expression:"main.phoneNumber"}}),s("base-select",{staticClass:"cols-4",attrs:{id:"assigned-doctor",label:"Лечащий врач",name:"assigned-doctor",options:[{value:"0",text:"Иванов"},{value:"1",text:"Захаров"},{value:"2",text:"Чернышева"}]},model:{value:e.main.assignedDoctor,callback:function(t){e.$set(e.main,"assignedDoctor",t)},expression:"main.assignedDoctor"}}),s("base-select",{staticClass:"cols-4",attrs:{id:"clents-group",label:"Группа клиентов",name:"clents-group",options:[{value:"0",text:"VIP"},{value:"1",text:"Проблемные"},{value:"2",text:"ОМС"}],errors:e.errorsMap.clientsGroup,multiple:""},model:{value:e.main.clientsGroup,callback:function(t){e.$set(e.main,"clientsGroup",t)},expression:"main.clientsGroup"}}),s("base-input",{staticClass:"cols-4 texting-checkbox",attrs:{id:"is-not-send-texting",type:"checkbox",label:"Не отправлять СМС",name:"is-not-send-texting",errors:e.errorsMap.isNotSendTexting},model:{value:e.main.isNotSendTexting,callback:function(t){e.$set(e.main,"isNotSendTexting",t)},expression:"main.isNotSendTexting"}})],1),s("form-section",{attrs:{title:"Адрес"}},[s("base-input",{staticClass:"cols-4",attrs:{id:"city",type:"text",label:"Город",name:"city",errors:e.errorsMap.city},model:{value:e.address.city,callback:function(t){e.$set(e.address,"city",t)},expression:"address.city"}}),s("base-input",{staticClass:"cols-4",attrs:{id:"country",type:"text",label:"Страна",name:"country"},model:{value:e.address.country,callback:function(t){e.$set(e.address,"country",t)},expression:"address.country"}}),s("base-input",{staticClass:"cols-4",attrs:{id:"region",label:"Область",name:"region",type:"text"},model:{value:e.address.region,callback:function(t){e.$set(e.address,"region",t)},expression:"address.region"}}),s("base-input",{staticClass:"cols-2",attrs:{id:"postcode",label:"Индекс",name:"postcode",type:"text"},model:{value:e.address.postcode,callback:function(t){e.$set(e.address,"postcode",t)},expression:"address.postcode"}}),s("base-input",{staticClass:"cols-2",attrs:{id:"house",label:"Дом",name:"house",type:"text"},model:{value:e.address.house,callback:function(t){e.$set(e.address,"house",t)},expression:"address.house"}}),s("base-input",{staticClass:"cols-4",attrs:{id:"street",label:"Улица",name:"street",type:"text"},model:{value:e.address.street,callback:function(t){e.$set(e.address,"street",t)},expression:"address.street"}})],1),s("form-section",{attrs:{title:"Паспортные данные"}},[s("base-select",{staticClass:"cols-4",attrs:{id:"document-type",label:"Тип документа",name:"document-type",options:[{value:"0",text:"Паспорт"},{value:"1",text:"Свидетельство о рождении"},{value:"2",text:"Вод. удостоверение"}],errors:e.errorsMap.type},model:{value:e.docs.type,callback:function(t){e.$set(e.docs,"type",t)},expression:"docs.type"}}),s("base-input",{staticClass:"cols-4",attrs:{id:"document-series",label:"Серия",name:"document-series",type:"text"},model:{value:e.docs.series,callback:function(t){e.$set(e.docs,"series",t)},expression:"docs.series"}}),s("base-input",{staticClass:"cols-4",attrs:{id:"document-number",label:"Номер",name:"document-number",type:"text"},model:{value:e.docs.number,callback:function(t){e.$set(e.docs,"number",t)},expression:"docs.number"}}),s("base-input",{staticClass:"cols-9",attrs:{id:"document-issuer",label:"Кем выдан",name:"document-issuer",type:"text"},model:{value:e.docs.issuer,callback:function(t){e.$set(e.docs,"issuer",t)},expression:"docs.issuer"}}),s("base-input",{staticClass:"cols-3",attrs:{id:"document-issue-date",label:"Дата выдачи",name:"document-issue-date",type:"date",errors:e.errorsMap.issueDate},model:{value:e.docs.issueDate,callback:function(t){e.$set(e.docs,"issueDate",t)},expression:"docs.issueDate"}})],1),s("base-button",{staticClass:"save-button",attrs:{text:"Сохранить",type:"submit"}})],1)},o=[],l=(s(4114),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"input-wrapper"},[e.label?s("label",{staticClass:"input-label",attrs:{for:e.id}},[e._v(e._s(e.label))]):e._e(),s("input",e._b({staticClass:"input",class:{"input-with-error":e.errors.length},attrs:{id:e.id},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}},"input",e.$attrs,!1)),e.errors.length?s("div",{staticClass:"input-error"},[e._v(e._s(e.errors.join(". ")))]):e._e()])}),c=[],u={name:"BaseInput",inheritAttrs:!1,props:{value:{},label:String,errors:{type:Array,validator(e){return!e||e.every((e=>"string"===typeof e))},default(){return[]}},id:String}},d=u,p=s(1656),m=(0,p.A)(d,l,c,!1,null,"adaf3f82",null),b=m.exports,f=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"select-wrapper"},[e.label?s("label",{staticClass:"select-label",attrs:{for:e.id}},[e._v(e._s(e.label))]):e._e(),s("select",e._b({staticClass:"select",class:{"select-with-error":e.errors.length},attrs:{id:e.id},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}},"select",e.$attrs,!1),e._l(e.options,(function(t,r){return s("option",{key:r,domProps:{value:t.value}},[e._v(" "+e._s(t.text)+" ")])})),0),e.errors.length?s("div",{staticClass:"select-error"},[e._v(e._s(e.errors.join(". ")))]):e._e()])},v=[],h={name:"BaseInput",inheritAttrs:!1,props:{value:{},label:String,errors:{type:Array,validator(e){return e.every((e=>"string"===typeof e))},default(){return[]}},id:String,options:{type:Array,validator(e){return e.every((e=>"string"===typeof e.value&&"string"===typeof e.text))},required:!0}}},x=h,y=(0,p.A)(x,f,v,!1,null,"4ccb2c20",null),g=y.exports,_=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"button",attrs:{type:e.type}},[e._v(e._s(e.text))])},$=[],C={name:"BaseButton",props:{text:String,type:String}},w=C,k=(0,p.A)(w,_,$,!1,null,"796f1ecc",null),M=k.exports,A=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("fieldset",{staticClass:"fieldset"},[s("legend",{staticClass:"legend"},[s("h2",{staticClass:"form-section-title"},[e._v(e._s(e.title))])]),s("div",{staticClass:"form-controls-wrapper"},[e._t("default")],2)])},D=[],S={name:"FormSection",props:{title:String}},q=S,E=(0,p.A)(q,A,D,!1,null,"da51d444",null),N=E.exports,O=s(7760),j=s(9428);function B(e){return t=>!j._$.req(t)||t.length===e}function T(e){return t=>!j._$.req(t)||t.startsWith(e)}var F={name:"AppForm",components:{BaseInput:b,BaseSelect:g,FormSection:N,BaseButton:M},setup(){return{v$:(0,O.fG)()}},data(){return{main:{surname:"",name:"",patronymic:"",birthDate:"",sex:"",phoneNumber:"",assignedDoctor:"",clientsGroup:[],isNotSendTexting:!1},address:{city:"",country:"",region:"",postcode:"",house:"",street:""},docs:{type:"",series:"",number:"",issuer:"",issueDate:""},errorsMap:{}}},validations(){return{main:{surname:{required:j._$.withMessage("Это обязательное поле",j.mw)},name:{required:j._$.withMessage("Это обязательное поле",j.mw)},birthDate:{required:j._$.withMessage("Это обязательное поле",j.mw)},phoneNumber:{required:j._$.withMessage("Это обязательное поле",j.mw),equalsLength:j._$.withMessage("Длина поля должна быть равна 11",B(11)),startsWith:j._$.withMessage("Поле должно начинаться с 7",T("7"))},clientsGroup:{required:j._$.withMessage("Это обязательное поле",j.mw)}},address:{city:{required:j._$.withMessage("Это обязательное поле",j.mw)}},docs:{type:{required:j._$.withMessage("Это обязательное поле",j.mw)},issueDate:{required:j._$.withMessage("Это обязательное поле",j.mw)}}}},methods:{handleFormSubmit(e){this.v$.$validate().then((t=>{t?alert("Клиент успешно создан."):(e.preventDefault(),this.setErrorsMap())}))},setErrorsMap(){this.errorsMap=this.createErrorsMap()},createErrorsMap(){const e={};return this.v$.$errors.forEach((t=>{const s=t.$property;s in e?e[s].push(t.$message):e[s]=[t.$message]})),e}}},G=F,P=(0,p.A)(G,i,o,!1,null,"510ce8c4",null),I=P.exports,W={name:"App",components:{AppForm:I}},L=W,V=(0,p.A)(L,a,n,!1,null,null,null),z=V.exports;r.A.config.productionTip=!1,r.A.config.devtools=!0,new r.A({render:e=>e(z)}).$mount("#app")}},t={};function s(r){var a=t[r];if(void 0!==a)return a.exports;var n=t[r]={exports:{}};return e[r].call(n.exports,n,n.exports,s),n.exports}s.m=e,function(){var e=[];s.O=function(t,r,a,n){if(!r){var i=1/0;for(u=0;u<e.length;u++){r=e[u][0],a=e[u][1],n=e[u][2];for(var o=!0,l=0;l<r.length;l++)(!1&n||i>=n)&&Object.keys(s.O).every((function(e){return s.O[e](r[l])}))?r.splice(l--,1):(o=!1,n<i&&(i=n));if(o){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[r,a,n]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};s.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,n,i=r[0],o=r[1],l=r[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(a in o)s.o(o,a)&&(s.m[a]=o[a]);if(l)var u=l(s)}for(t&&t(r);c<i.length;c++)n=i[c],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(u)},r=self["webpackChunkcustomer_creation_form"]=self["webpackChunkcustomer_creation_form"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=s.O(void 0,[504],(function(){return s(2222)}));r=s.O(r)})();
//# sourceMappingURL=app.7ab7bac2.js.map